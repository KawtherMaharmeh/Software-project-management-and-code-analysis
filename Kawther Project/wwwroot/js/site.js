const translations = {
    en: {
        home: "Home",
        login: "Login",
        text_content1: " Welcome to Project Flow System, the ideal platform designed to help students and professors organize and track academic projects effectively.This system provides an integrated environment for managing study groups, tracking project progress, uploading files, and exchanging comments and feedback between professors and students.",
        consciousness: "Consciousness",
        year: "Year",
        students: "Students",
        supervisor: "Supervisor",
        text_content2: " Technology is the driving force transforming the world around us, accelerating processes and improving daily life in many ways. Through modern innovations, such as artificial intelligence and big data, we can improve work efficiencies, provide intelligent solutions to complex problems, and facilitate access to knowledge. Technology continues to evolve rapidly, opening up new avenues for innovation and advancement in various fields, including education, healthcare, business, and social media.",
        email: "Email:",
        password: "Password:",
        login1: "Log In",
        student: "Students:",
        project: "Add Project",
        cancel: "Cancel",
        task: "Add Task",
        save: "Save",
        back: "Back",
        project1: "Create Project",
        project2: "Project Name",
        student1: "Select Students",
        project3: "Project Logo",
        select: "Select Supervisor",
        task0: "Add Sub Task",
        name: "Name",
        task1: "Main Task",
        task2: "-- Select Main Task --",
        account: "Create Account",
        user: "User Name",
        phone: "Phone Number",
        user1: "User Type",
        admin: "Admin",
        title: "Title",
        image: "Current Image:",
        image1: "Change Image",
        task3: "Edit Main Task",
        update: "Update",
        project4: "Edit Project",
        select1: "Select Team Leader",
        select2: "-- Select Team Leader --",
        logo: "Upload New Logo",
        logo1: "Current Logo:",
        student2: "Select Students",
        project5: "All Projects",
        save1: "Save Changes",
        task4: "Edit Sub Task",
        project6: "Manage Projects",
        project7: "Manage Graduation Projects",
        task5: "Manage Sub Task",
        managemaintask: "Manage Main Task",
        user2: "Create User",
        actions: "Actions",
        project8: "Create Graduation Project",
        no: "No.",
        process: "Process",
        task6: "Add New Task",
        edit: "Edit",
        Option: "Options",
        me: "Me",
        chat: "Chat",
        logo0: "Logo",
        logout: "Log Out",
        isra: "ISRA UNIVERSITY",
        request: "Request ID:",
        mode: "Development Mode",
        swapping: "Swapping to environment will display more detailed information about the error that occurred.",
        development: "Development",
        development1: "The Development environment shouldn't be enabled for deployed applications.",
        development2: "It can result in displaying sensitive information from exceptions to end users. For local debugging, enable the environment by setting the variable and restarting the app.",
        aspnetcore: "ASPNETCORE_ENVIRONMENT",
        status: "Status:",
        tasks: "Tasks Completed:",
        previous: "Previous graduation projects",
        image: "Profile Image",
        number: "ID Number",
        birth: "Birth Date",
        specialization: "Specialization",
        details: "Details",
        task7: "My Tasks",
        task8: "Main Task Name",
        task9: "Task Status",
        reviwe: "Review Code",
        message: "Add Message",
        upload: "Uploaded Files",
        task10: "Task",
        start: "Start Time",
        time: "End Time",
        studentname: "Student Name",
        note: "Note",
        project9: "Projects I am responsible for",
        veiw: "View All",
        details1: "View Details",
        task11: "Main Task Type",
        task12: "Select Main Task Type",
        task13: "Sub Task Type",
        task14: "Select Sub Task Type",
        loading: "Loading...",
        file: "File",
        task15: "Subtask Name",
        code0: "Result Analysis The Code",
        code1: "The Code",
        user5:"Manage User",
        GraduationProjects: "Graduation Projects",
        view_logo: "Logo",
        AddNewGraduationProject: "Add New Graduation Project",
        EditGraduationProject: "Edit Graduation Project",
        SubTasks: "Sub Tasks",
        FilterMainTask: "Filter by Main Task",
        all: "All",
        teamleader: "Team Leader",
        search: "Search",
        userList: "User List",
        There_are_no_users: "There are no users",
        address: "Address",
        uniLocation: "Amman - Airport Road",
        contact: "Contact",
        website: "University Web Site",
        my_profile: "My Profile",
        TeamMembers: "Team Members",
        ResultAnalysisCode: "Result Analysis The Code",
        AnalysisCode: "Analysis Code",
        FlowProject: "Flow Project",
        Consciousness: "Consciousness",
        SelectStudentName:"Select Student Name",


    },
    ar: {
        "home": "الصفحة الرئيسية",
        "login": "تسجيل الدخول",
        "text_content1": "مرحبًا بكم في نظام Project Flow، المنصة المثالية المصممة لمساعدة الطلاب والأساتذة على تنظيم المشاريع الأكاديمية ومتابعتها بشكل فعال. يوفر هذا النظام بيئة متكاملة لإدارة مجموعات الدراسة، وتتبع تقدم المشروع، وتحميل الملفات، وتبادل التعليقات والملاحظات بين الأساتذة والطلاب.",
        "consciousness": "الوعي",
        "year": "السنة",
        "students": "الطلاب",
        "supervisor": "المشرف",
        "text_content2": "التكنولوجيا هي القوة الدافعة التي تُغيّر العالم من حولنا، وتُسرّع العمليات وتُحسّن الحياة اليومية بطرقٍ عديدة. ومن خلال الابتكارات الحديثة، كالذكاء الاصطناعي والبيانات الضخمة، يُمكننا تحسين كفاءة العمل، وتقديم حلول ذكية للمشكلات المعقدة، وتسهيل الوصول إلى المعرفة. وتستمر التكنولوجيا في التطور السريع، فاتحةً آفاقًا جديدة للابتكار والتقدم في مختلف المجالات، بما في ذلك التعليم والرعاية الصحية والأعمال ووسائل التواصل الاجتماعي.",
        "email": "البريد الإلكتروني:",
        "password": "كلمة المرور:",
        "login1": "تسجيل الدخول",
        "student": "الطلاب:",
        "project": "إضافة مشروع",
        "cancel": "إلغاء",
        "task": "إضافة مهمة",
        "save": "حفظ",
        "back": "رجوع",
        "project1": "إنشاء مشروع",
        "project2": "اسم المشروع",
        "student1": "اختر الطلاب",
        "project3": "شعار المشروع",
        "select": "اختر المشرف",
        "task0": "إضافة مهمة فرعية",
        "name": "الاسم",
        "task1": "المهمة الرئيسية",
        "task2": "-- اختر المهمة الرئيسية --",
        "account": "إنشاء حساب",
        "user": "اسم المستخدم",
        "phone": "رقم الهاتف",
        "user1": "نوع المستخدم",
        "admin": "مسؤول",
        "title": "العنوان",
        "image": "الصورة الحالية:",
        "image1": "تغيير الصورة",
        "task3": "تعديل المهمة الرئيسية",
        "update": "تحديث",
        "project4": "تعديل المشروع",
        "select1": "اختر قائد الفريق",
        "select2": "-- اختر قائد الفريق --",
        "logo": "تحميل شعار جديد",
        "logo1": "الشعار الحالي:",
        "student2": "اختر الطلاب",
        "project5": "جميع المشاريع",
        "save1": "حفظ التغييرات",
        "task4": "تعديل المهمة الفرعية",
        "project6": "إدارة المشاريع",
        "project7": "إدارة مشاريع التخرج",
        "task5": "إدارة المهام الفرعية",
        "managemaintask": "إدارة المهام الرئيسية",
        "user2": "إنشاء مستخدم",
        "actions": "الإجراءات",
        "project8": "إنشاء مشروع تخرج",
        "no": "الرقم",
        "process": "العملية",
        "task6": "إضافة مهمة جديدة",
        "edit": "تعديل",
        "Option": "الخيارات",
        "me": "أنا",
        "chat": "المحادثة",
        "logo0": "الشعار",
        "logout": "تسجيل الخروج",
        "isra": "جامعة الإسراء",
        "request": "رقم الطلب:",
        "mode": "وضع التطوير",
        "swapping": "سيؤدي التبديل إلى بيئة التطوير إلى عرض مزيد من التفاصيل حول الخطأ الذي حدث.",
        "development": "تطوير",
        "development1": "لا ينبغي تمكين بيئة التطوير في التطبيقات المنشورة.",
        "development2": "قد يؤدي ذلك إلى عرض معلومات حساسة من الاستثناءات للمستخدمين. لأغراض تصحيح الأخطاء محليًا، فعّل البيئة عن طريق تعيين المتغير وإعادة تشغيل التطبيق.",
        "aspnetcore": "ASPNETCORE_ENVIRONMENT",
        "status": "الحالة:",
        "tasks": "المهام المنجزة:",
        "previous": "مشاريع التخرج السابقة",
        "image": "صورة الملف الشخصي",
        "number": "رقم الهوية",
        "birth": "تاريخ الميلاد",
        "specialization": "التخصص",
        "details": "تفاصيل",
        "task7": "مهامي",
        "task8": "المهمة الرئيسية",
        "task9": "حالة المهمة",
        "reviwe": "مراجعة الكود",
        "message": "إضافة رسالة",
        "upload": "الملفات المرفوعة",
        "task10": "المهمة",
        "start": "وقت البدء",
        "time": "وقت الانتهاء",
        "studentname": "اسم الطالب",
        "note": "ملاحظة",
        "project9": "المشاريع التي أتحمل مسؤوليتها",
        "veiw": "عرض الكل",
        "details1": "عرض التفاصيل",
        "task11": "نوع المهمة الرئيسية",
        "task12": "اختر نوع المهمة الرئيسية",
        "task13": "نوع المهمة الفرعية",
        "task14": "اختر نوع المهمة الفرعية",
        "loading": "جارٍ التحميل...",
        "file": "الملف",
        "task15": "المهمة الفرعية",
        "code0": "تحليل نتائج الكود",
        "code1": "الكود",
        "user5": "إدارة المستخدم",
        "GraduationProjects": "مشاريع التخرج",
        "view_logo": "الشعار",
        "AddNewGraduationProject": "إضافة مشروع تخرج جديد",
        "EditGraduationProject": "تعديل مشروع التخرج",
        "SubTasks": "المهام الفرعية",
        "FilterMainTask": "تصفية حسب المهمة الرئيسية",
        "all": "الكل",
        "teamleader": "قائد الفريق",
        "search": "بحث",
        "userList": "قائمة المستخدمين",
        "There_are_no_users": "لا يوجد مستخدمون",
        "address": "العنوان",
        "uniLocation": "عمان - طريق المطار",
        "contact": "اتصل بنا",
        "website": "موقع الجامعة",
        "my_profile": "ملفي الشخصي",
        "TeamMembers": "أعضاء الفريق",
        "ResultAnalysisCode": "نتيجة تحليل الكود",
        "AnalysisCode": "تحليل الكود",
        FlowProject: "تتبع المشروع",
Consciousness: "الوعي",
SelectStudentName: "اختر اسم الطالب"
    }



};

function updateTexts(lang) {
    document.querySelectorAll("[data-translate]").forEach(el => {
        const key = el.getAttribute("data-translate");
        if (translations[lang][key]) {
            el.innerText = translations[lang][key];
        }
    });
}

const isArabic = () => document.documentElement.lang === "ar";


document.getElementById("translateBtn").addEventListener("click", function () {
    const newLang = isArabic() ? "en" : "ar";
    document.documentElement.lang = newLang;
    document.documentElement.dir = newLang === "ar" ? "rtl" : "ltr";
    updateTexts(newLang);
    localStorage.setItem("lang", newLang);
});

document.getElementById("themeBtn").addEventListener("click", function () {
    const dark = document.body.classList.toggle("dark-theme");
    localStorage.setItem("theme", dark ? "dark" : "light");

    const btnIcon = document.getElementById("themeBtn");
    btnIcon.src = dark ? "/images/sun.png" : "/images/moon.png";
});

window.addEventListener("DOMContentLoaded", () => {
    const savedLang = localStorage.getItem("lang") || "ar";
    const savedTheme = localStorage.getItem("theme") || "light";

    document.documentElement.lang = savedLang;
    document.documentElement.dir = savedLang === "ar" ? "rtl" : "ltr";
    updateTexts(savedLang);

    if (savedTheme === "dark") {
        document.body.classList.add("dark-theme");
    }
});
/*=================== WoW ======================= */

/*
* WOW wow.js - v1.3.0 - 2016-10-04
* https://wowjs.uk
* Copyright (c) 2016 Thomas Grainger; Licensed MIT
*/

(function (global, factory) {
    if (typeof define === "function" && define.amd) {
        define(['module', 'exports'], factory);
    } else if (typeof exports !== "undefined") {
        factory(module, exports);
    } else {
        var mod = {
            exports: {}
        };
        factory(mod, mod.exports);
        global.WOW = mod.exports;
    }
})(this, function (module, exports) {
    'use strict';

    Object.defineProperty(exports, "__esModule", {
        value: true
    });

    var _class, _temp;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    var _createClass = function () {
        function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }

        return function (Constructor, protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps);
            if (staticProps) defineProperties(Constructor, staticProps);
            return Constructor;
        };
    }();

    function isIn(needle, haystack) {
        return haystack.indexOf(needle) >= 0;
    }

    function extend(custom, defaults) {
        for (var key in defaults) {
            if (custom[key] == null) {
                var value = defaults[key];
                custom[key] = value;
            }
        }
        return custom;
    }

    function isMobile(agent) {
        return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)
        );
    }

    function createEvent(event) {
        var bubble = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];
        var cancel = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];
        var detail = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];

        var customEvent = void 0;
        if (document.createEvent != null) {
            // W3C DOM
            customEvent = document.createEvent('CustomEvent');
            customEvent.initCustomEvent(event, bubble, cancel, detail);
        } else if (document.createEventObject != null) {
            // IE DOM < 9
            customEvent = document.createEventObject();
            customEvent.eventType = event;
        } else {
            customEvent.eventName = event;
        }

        return customEvent;
    }

    function emitEvent(elem, event) {
        if (elem.dispatchEvent != null) {
            // W3C DOM
            elem.dispatchEvent(event);
        } else if (event in (elem != null)) {
            elem[event]();
        } else if ('on' + event in (elem != null)) {
            elem['on' + event]();
        }
    }

    function addEvent(elem, event, fn) {
        if (elem.addEventListener != null) {
            // W3C DOM
            elem.addEventListener(event, fn, false);
        } else if (elem.attachEvent != null) {
            // IE DOM
            elem.attachEvent('on' + event, fn);
        } else {
            // fallback
            elem[event] = fn;
        }
    }

    function removeEvent(elem, event, fn) {
        if (elem.removeEventListener != null) {
            // W3C DOM
            elem.removeEventListener(event, fn, false);
        } else if (elem.detachEvent != null) {
            // IE DOM
            elem.detachEvent('on' + event, fn);
        } else {
            // fallback
            delete elem[event];
        }
    }

    function getInnerHeight() {
        if ('innerHeight' in window) {
            return window.innerHeight;
        }

        return document.documentElement.clientHeight;
    }

    // Minimalistic WeakMap shim, just in case.
    var WeakMap = window.WeakMap || window.MozWeakMap || function () {
        function WeakMap() {
            _classCallCheck(this, WeakMap);

            this.keys = [];
            this.values = [];
        }

        _createClass(WeakMap, [{
            key: 'get',
            value: function get(key) {
                for (var i = 0; i < this.keys.length; i++) {
                    var item = this.keys[i];
                    if (item === key) {
                        return this.values[i];
                    }
                }
                return undefined;
            }
        }, {
            key: 'set',
            value: function set(key, value) {
                for (var i = 0; i < this.keys.length; i++) {
                    var item = this.keys[i];
                    if (item === key) {
                        this.values[i] = value;
                        return this;
                    }
                }
                this.keys.push(key);
                this.values.push(value);
                return this;
            }
        }]);

        return WeakMap;
    }();

    // Dummy MutationObserver, to avoid raising exceptions.
    var MutationObserver = window.MutationObserver || window.WebkitMutationObserver || window.MozMutationObserver || (_temp = _class = function () {
        function MutationObserver() {
            _classCallCheck(this, MutationObserver);

            if (typeof console !== 'undefined' && console !== null) {
                console.warn('MutationObserver is not supported by your browser.');
                console.warn('WOW.js cannot detect dom mutations, please call .sync() after loading new content.');
            }
        }

        _createClass(MutationObserver, [{
            key: 'observe',
            value: function observe() { }
        }]);

        return MutationObserver;
    }(), _class.notSupported = true, _temp);

    // getComputedStyle shim, from http://stackoverflow.com/a/21797294
    var getComputedStyle = window.getComputedStyle || function getComputedStyle(el) {
        var getComputedStyleRX = /(\-([a-z]){1})/g;
        return {
            getPropertyValue: function getPropertyValue(prop) {
                if (prop === 'float') {
                    prop = 'styleFloat';
                }
                if (getComputedStyleRX.test(prop)) {
                    prop.replace(getComputedStyleRX, function (_, _char) {
                        return _char.toUpperCase();
                    });
                }
                var currentStyle = el.currentStyle;

                return (currentStyle != null ? currentStyle[prop] : void 0) || null;
            }
        };
    };

    var WOW = function () {
        function WOW() {
            var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

            _classCallCheck(this, WOW);

            this.defaults = {
                boxClass: 'wow',
                animateClass: 'animated',
                offset: 0,
                mobile: true,
                live: true,
                callback: null,
                scrollContainer: null,
                resetAnimation: true
            };

            this.animate = function animateFactory() {
                if ('requestAnimationFrame' in window) {
                    return function (callback) {
                        return window.requestAnimationFrame(callback);
                    };
                }
                return function (callback) {
                    return callback();
                };
            }();

            this.vendors = ['moz', 'webkit'];

            this.start = this.start.bind(this);
            this.resetAnimation = this.resetAnimation.bind(this);
            this.scrollHandler = this.scrollHandler.bind(this);
            this.scrollCallback = this.scrollCallback.bind(this);
            this.scrolled = true;
            this.config = extend(options, this.defaults);
            if (options.scrollContainer != null) {
                this.config.scrollContainer = document.querySelector(options.scrollContainer);
            }
            // Map of elements to animation names:
            this.animationNameCache = new WeakMap();
            this.wowEvent = createEvent(this.config.boxClass);
        }

        _createClass(WOW, [{
            key: 'init',
            value: function init() {
                this.element = window.document.documentElement;
                if (isIn(document.readyState, ['interactive', 'complete'])) {
                    this.start();
                } else {
                    addEvent(document, 'DOMContentLoaded', this.start);
                }
                this.finished = [];
            }
        }, {
            key: 'start',
            value: function start() {
                var _this = this;

                this.stopped = false;
                this.boxes = [].slice.call(this.element.querySelectorAll('.' + this.config.boxClass));
                this.all = this.boxes.slice(0);
                if (this.boxes.length) {
                    if (this.disabled()) {
                        this.resetStyle();
                    } else {
                        for (var i = 0; i < this.boxes.length; i++) {
                            var box = this.boxes[i];
                            this.applyStyle(box, true);
                        }
                    }
                }
                if (!this.disabled()) {
                    addEvent(this.config.scrollContainer || window, 'scroll', this.scrollHandler);
                    addEvent(window, 'resize', this.scrollHandler);
                    this.interval = setInterval(this.scrollCallback, 50);
                }
                if (this.config.live) {
                    var mut = new MutationObserver(function (records) {
                        for (var j = 0; j < records.length; j++) {
                            var record = records[j];
                            for (var k = 0; k < record.addedNodes.length; k++) {
                                var node = record.addedNodes[k];
                                _this.doSync(node);
                            }
                        }
                        return undefined;
                    });
                    mut.observe(document.body, {
                        childList: true,
                        subtree: true
                    });
                }
            }
        }, {
            key: 'stop',
            value: function stop() {
                this.stopped = true;
                removeEvent(this.config.scrollContainer || window, 'scroll', this.scrollHandler);
                removeEvent(window, 'resize', this.scrollHandler);
                if (this.interval != null) {
                    clearInterval(this.interval);
                }
            }
        }, {
            key: 'sync',
            value: function sync() {
                if (MutationObserver.notSupported) {
                    this.doSync(this.element);
                }
            }
        }, {
            key: 'doSync',
            value: function doSync(element) {
                if (typeof element === 'undefined' || element === null) {
                    element = this.element;
                }
                if (element.nodeType !== 1) {
                    return;
                }
                element = element.parentNode || element;
                var iterable = element.querySelectorAll('.' + this.config.boxClass);
                for (var i = 0; i < iterable.length; i++) {
                    var box = iterable[i];
                    if (!isIn(box, this.all)) {
                        this.boxes.push(box);
                        this.all.push(box);
                        if (this.stopped || this.disabled()) {
                            this.resetStyle();
                        } else {
                            this.applyStyle(box, true);
                        }
                        this.scrolled = true;
                    }
                }
            }
        }, {
            key: 'show',
            value: function show(box) {
                this.applyStyle(box);
                box.className = box.className + ' ' + this.config.animateClass;
                if (this.config.callback != null) {
                    this.config.callback(box);
                }
                emitEvent(box, this.wowEvent);

                if (this.config.resetAnimation) {
                    addEvent(box, 'animationend', this.resetAnimation);
                    addEvent(box, 'oanimationend', this.resetAnimation);
                    addEvent(box, 'webkitAnimationEnd', this.resetAnimation);
                    addEvent(box, 'MSAnimationEnd', this.resetAnimation);
                }

                return box;
            }
        }, {
            key: 'applyStyle',
            value: function applyStyle(box, hidden) {
                var _this2 = this;

                var duration = box.getAttribute('data-wow-duration');
                var delay = box.getAttribute('data-wow-delay');
                var iteration = box.getAttribute('data-wow-iteration');

                return this.animate(function () {
                    return _this2.customStyle(box, hidden, duration, delay, iteration);
                });
            }
        }, {
            key: 'resetStyle',
            value: function resetStyle() {
                for (var i = 0; i < this.boxes.length; i++) {
                    var box = this.boxes[i];
                    box.style.visibility = 'visible';
                }
                return undefined;
            }
        }, {
            key: 'resetAnimation',
            value: function resetAnimation(event) {
                if (event.type.toLowerCase().indexOf('animationend') >= 0) {
                    var target = event.target || event.srcElement;
                    target.className = target.className.replace(this.config.animateClass, '').trim();
                }
            }
        }, {
            key: 'customStyle',
            value: function customStyle(box, hidden, duration, delay, iteration) {
                if (hidden) {
                    this.cacheAnimationName(box);
                }
                box.style.visibility = hidden ? 'hidden' : 'visible';

                if (duration) {
                    this.vendorSet(box.style, { animationDuration: duration });
                }
                if (delay) {
                    this.vendorSet(box.style, { animationDelay: delay });
                }
                if (iteration) {
                    this.vendorSet(box.style, { animationIterationCount: iteration });
                }
                this.vendorSet(box.style, { animationName: hidden ? 'none' : this.cachedAnimationName(box) });

                return box;
            }
        }, {
            key: 'vendorSet',
            value: function vendorSet(elem, properties) {
                for (var name in properties) {
                    if (properties.hasOwnProperty(name)) {
                        var value = properties[name];
                        elem['' + name] = value;
                        for (var i = 0; i < this.vendors.length; i++) {
                            var vendor = this.vendors[i];
                            elem['' + vendor + name.charAt(0).toUpperCase() + name.substr(1)] = value;
                        }
                    }
                }
            }
        }, {
            key: 'vendorCSS',
            value: function vendorCSS(elem, property) {
                var style = getComputedStyle(elem);
                var result = style.getPropertyCSSValue(property);
                for (var i = 0; i < this.vendors.length; i++) {
                    var vendor = this.vendors[i];
                    result = result || style.getPropertyCSSValue('-' + vendor + '-' + property);
                }
                return result;
            }
        }, {
            key: 'animationName',
            value: function animationName(box) {
                var aName = void 0;
                try {
                    aName = this.vendorCSS(box, 'animation-name').cssText;
                } catch (error) {
                    // Opera, fall back to plain property value
                    aName = getComputedStyle(box).getPropertyValue('animation-name');
                }

                if (aName === 'none') {
                    return ''; // SVG/Firefox, unable to get animation name?
                }

                return aName;
            }
        }, {
            key: 'cacheAnimationName',
            value: function cacheAnimationName(box) {
                // https://bugzilla.mozilla.org/show_bug.cgi?id=921834
                // box.dataset is not supported for SVG elements in Firefox
                return this.animationNameCache.set(box, this.animationName(box));
            }
        }, {
            key: 'cachedAnimationName',
            value: function cachedAnimationName(box) {
                return this.animationNameCache.get(box);
            }
        }, {
            key: 'scrollHandler',
            value: function scrollHandler() {
                this.scrolled = true;
            }
        }, {
            key: 'scrollCallback',
            value: function scrollCallback() {
                if (this.scrolled) {
                    this.scrolled = false;
                    var results = [];
                    for (var i = 0; i < this.boxes.length; i++) {
                        var box = this.boxes[i];
                        if (box) {
                            if (this.isVisible(box)) {
                                this.show(box);
                                continue;
                            }
                            results.push(box);
                        }
                    }
                    this.boxes = results;
                    if (!this.boxes.length && !this.config.live) {
                        this.stop();
                    }
                }
            }
        }, {
            key: 'offsetTop',
            value: function offsetTop(element) {
                // SVG elements don't have an offsetTop in Firefox.
                // This will use their nearest parent that has an offsetTop.
                // Also, using ('offsetTop' of element) causes an exception in Firefox.
                while (element.offsetTop === undefined) {
                    element = element.parentNode;
                }
                var top = element.offsetTop;
                while (element.offsetParent) {
                    element = element.offsetParent;
                    top += element.offsetTop;
                }
                return top;
            }
        }, {
            key: 'isVisible',
            value: function isVisible(box) {
                var offset = box.getAttribute('data-wow-offset') || this.config.offset;
                var viewTop = this.config.scrollContainer && this.config.scrollContainer.scrollTop || window.pageYOffset;
                var viewBottom = viewTop + Math.min(this.element.clientHeight, getInnerHeight()) - offset;
                var top = this.offsetTop(box);
                var bottom = top + box.clientHeight;

                return top <= viewBottom && bottom >= viewTop;
            }
        }, {
            key: 'disabled',
            value: function disabled() {
                return !this.config.mobile && isMobile(navigator.userAgent);
            }
        }]);

        return WOW;
    }();

    exports.default = WOW;
    module.exports = exports['default'];
});
